{
    "collab_server" : "",
    "contents" : "library(jsonlite)\nlibrary(tidyverse)\nlibrary(tm)\n\nsource_file <- paste0(\"D:/Projects/OMTM\",\"/News Desaturator/output.json\")\n\nnews <- fromJSON(source_file, flatten = TRUE)\n\ntitles <- unlist(news$title)\n\ntitles <- gsub(\"\\n\", \"\", titles)\ntitles <- trimws(titles)\ntitles <- titles[!titles %in% c(\"\",\" \")]\n\nnumwords_titles <- map_dbl(gregexpr(\"\\\\S+\", titles), length)\n\nremove_titles <- titles[numwords_titles < 4]\n\n# manually flag to remove\nremove_df <- data.frame(\n  \"title\" = remove_titles,\n  \"flag\" = rep(1, length(remove_titles)),\n  stringsAsFactors = F\n)\n\n# View(remove_df) to manually find rows that should have flag = 0\n# found none\n\ntitles <- titles[!(titles %in% remove_df$title)]\n\ntitles_df <- data.frame(\n  \"title\" = titles,\n  \"flag\" = rep(0, length(titles)),\n  stringsAsFactors = F\n)\n\n# View(remove_df) to manually find rows that should have flag = 0\n\nfilter_titles <- titles_df$title[c(18,27,65,83,86,102,126,147:149,\n                    157:159,179,188,190,201,208:210,212,\n                    232,240,246,251,259:266,275,277:278,\n                    287:292,320:321,335:337,344:350,353,\n                    365, 366, 367, 371,390:391,396:398,414,\n                    431:433,450, 468,469, 475, 477,522,\n                    549:550,582:584,607:609,628,642:644,676,\n                    680,712:714,729:731,742:747,784,816,\n                    840:841,850,852,865,871:872,877:880,\n                    887,893:904,908:917,934,935,949,958,\n                    974,991:994,998:1003,1009:1031)]\n                    \n\n\nfull_titles <- titles_df$title[!(titles_df$title %in% filter_titles)]\n\nclean_titles <- tolower(full_titles)\nclean_titles <- removePunctuation(clean_titles)\nclean_titles <- removeWords(clean_titles, stopwords(\"en\"))\n\nall_words <- paste(clean_titles, collapse = \" \")\nall_words <- map(all_words, function(x) strsplit(x, \" \"))\nall_words <- unlist(all_words)\nall_words <- all_words[nchar(all_words) > 2]\n\nView(data.frame(table(all_words)))\n",
    "created" : 1491227504546.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1141187810",
    "id" : "DEA6C7B6",
    "lastKnownWriteTime" : 1491261480,
    "last_content_update" : 1491261480796,
    "path" : "D:/Projects/OMTM/crawler_data_processing.R",
    "project_path" : "crawler_data_processing.R",
    "properties" : {
        "docOutlineVisible" : "0",
        "tempName" : "Untitled5"
    },
    "relative_order" : 9,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}